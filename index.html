<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';">
<link rel="icon" href="data:,">
<meta name="viewport" content="width=device-width">
<script>
  const theme = localStorage.getItem('theme') || 'dark';
  document.documentElement.dataset.theme = theme;
</script>

<link rel="stylesheet" href="./theme/theme.css?v=1">
<link rel="stylesheet" href="" id="theme-style">

<script>
  document.getElementById('theme-style').href = `./theme/theme-${theme}.css`;
</script>

<link rel="stylesheet" href="./ui/styles/core.css">
<title>Web Components</title>
</head>
<body>
<ui-focus></ui-focus>
<div id="app">
  <div class="container">

    <nav>
      <div class="static">
        <span class="version"><span>
      </div>
      <div class="dynamic">
        <div class="nav-category" data-nav-category="essentials">
          <div class="menuTitle">Essentials</div>
        </div>
  <!-- variant, tone, elevation, radius -->
        <div class="nav-category" data-nav-category="theme">
          <div class="menuTitle">Theme</div>
        </div>
  <!-- stack, grid, container, section, split -->
        <div class="nav-category" data-nav-category="layout">
          <div class="menuTitle">Layout</div>
        </div>
  <!-- divider, icon, line, spacer, text -->
        <div class="nav-category" data-nav-category="primitives">
          <div class="menuTitle">Primitives</div>
        </div>
  <!-- button, input, select, modal, tooltip -->
        <div class="nav-category" data-nav-category="forms">
          <div class="menuTitle">Forms</div>
        </div>
  <!-- accordion, tabs, breadcrumb,  -->
        <div class="nav-category" data-nav-category="components">
          <div class="menuTitle">Components</div>
        </div>
  <!-- portal, observer, resize-handler, mount-detector -->
        <div class="nav-category" data-nav-category="utilities">
          <div class="menuTitle">Utilities</div>
        </div>
  <!-- -->
      </div>
      <div class="static"></div>
    </nav>

    <main>
      <header>
          <button id="toggle-theme" style="width:fit-content">Theme</button>
      </header>

      <article id="article"></article>
    </main>

    <aside></aside>

  </div>
</div>
<script>
  const btn = document.getElementById('toggle-theme');
  const themeLink = document.getElementById('theme-style');

  btn.addEventListener('click', () => {
    const current = document.documentElement.dataset.theme;
    const newTheme = current === 'dark' ? 'light' : 'dark';
    document.documentElement.dataset.theme = newTheme;
    localStorage.setItem('theme', newTheme);
    themeLink.href = `./theme/theme-${newTheme}.css`;
  });
</script>

<ui-portal></ui-portal>
<script type="module">
  import {UIVersion} from './ui/version.js';
  let version = document.querySelectorAll('.version');
  version.forEach(v => {
    v.textContent = UIVersion;
  });
</script>
<script type="module" src="./theme/router.js"></script>
<script type="module" src="./ui/components.js"></script>
</body>
</html>