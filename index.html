<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script>
  window.theme = localStorage.getItem('theme') || 'dark';
  document.documentElement.dataset.theme = window.theme;
</script>
<link rel="stylesheet" href="./styles/core/reset.css">
<link rel="stylesheet" href="./styles/core/base.css">
<link rel="stylesheet" href="./styles/core/typography.css">
<!--<link rel="stylesheet" href="./styles/core/layout.css">-->
<link rel="stylesheet" href="./styles/layouts/layout.css">
<link rel="stylesheet" href="" id="theme-style">
<script>
  document.getElementById('theme-style').href = `./styles/themes/${window.theme}.css`;
</script>
<link rel="stylesheet" href="./styles/parts/app.css">
<link rel="stylesheet" href="./ui/styles/core.css">
<link rel="icon" href="data:,">
<title>Web Components</title>
</head>
<body>
<ui-focus></ui-focus>
<ui-app>

  <ui-sidebar>
    <div>
      <span class="version"></span>
    </div>
    <nav>
      <div class="nav-category" data-nav-category="essentials">
        <div class="menu-title">Essentials</div>
      </div>
<!-- variant, tone, elevation, radius -->
      <div class="nav-category" data-nav-category="theme">
        <div class="menu-title">Theme</div>
      </div>
<!-- stack, grid, container, section, split -->
      <div class="nav-category" data-nav-category="layout">
        <div class="menu-title">Layout</div>
      </div>
<!-- divider, icon, line, spacer, text -->
      <div class="nav-category" data-nav-category="primitives">
        <div class="menu-title">Primitives</div>
      </div>
<!-- button, input, select, modal, tooltip -->
      <div class="nav-category" data-nav-category="forms">
        <div class="menu-title">Forms</div>
      </div>
<!-- accordion, tabs, breadcrumb,  -->
      <div class="nav-category" data-nav-category="components">
        <div class="menu-title">Components</div>
      </div>
<!-- portal, focus, observer, resize-handler -->
      <div class="nav-category" data-nav-category="utilities">
        <div class="menu-title">Utilities</div>
      </div>
<!-- -->
    </nav>
  </ui-sidebar>

  <ui-content>
    <header>
      <ui-button id="toggle-theme">
        <ui-icon name=""></ui-icon>
      </ui-button>
    </header>
    <main>
      <article id="article"></article>
    </main>
    <footer></footer>
  </ui-content>

</ui-app>
<ui-portal></ui-portal>

<script>
  const btn = document.getElementById('toggle-theme');
  const themeLink = document.getElementById('theme-style');

  if(btn){
    const icon = btn.querySelector('ui-icon');
    let currentTheme = document.documentElement.dataset.theme;

    if(icon){
      icon.setAttribute('name', currentTheme === 'dark' ? 'light-mode' : 'dark-mode');
    }

    btn.addEventListener('click', () => {
      currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
      document.documentElement.dataset.theme = currentTheme;
      localStorage.setItem('theme',currentTheme);
      themeLink.href = `./styles/themes/${currentTheme}.css`;

      if(themeLink) themeLink.href = `./styles/themes/${currentTheme}.css`;
      if(icon) icon.setAttribute('name', currentTheme === 'dark' ? 'light-mode' : 'dark-mode');
    });
  }
</script>
<script type="module">
  import {UIVersion} from './ui/version.js';
  let version = document.querySelectorAll('.version');
  version.forEach(v => {
    v.textContent = UIVersion;
  });
  document.documentElement.dataset.version = UIVersion;
</script>
<script type="module" src="./theme/router.js"></script>
<script type="module" src="./ui/components.js"></script>
<script src="./theme/examples.js"></script>
</body>
</html>